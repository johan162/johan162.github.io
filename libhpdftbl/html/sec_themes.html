<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libhpdftbl: Using themes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libhpdftbl<span id="projectnumber">&#160;1.5.0</span>
   </div>
   <div id="projectbrief">Table construction library for Haru PDF library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sec_themes.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Using themes </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_Themes"></a> A theme (or style theme) is a definition of the "look &amp; feel" of a table. It doesn't affect the structure of the table such as the size of the table or how many columns or rows a cell spans. It is practical shortcut when many tables should be displayed in the same style. It allows the compact specification of the table by applying a theme to the table instead of having to call multiple functions to achieve the same thing. In addition, if the design should be changed there is only one place to update instead of for each table.</p>
<p >A theme can also be serialized to and from a file/string buffer</p>
<p >A theme controls the following aspects of a table</p>
<ul>
<li>The content and label text style</li>
<li>The header and title text style</li>
<li>The inner and outer border style</li>
<li>The usage (or not) of labels and whether the shorter label grind lines should be used</li>
<li>If a header row should be used or not</li>
<li>If a title should be used or not</li>
</ul>
<p >if you have multiple table in a document it is possible to create a <em>table theme</em> which consists of some core styling of a table that can be reused.</p>
<dl class="section note"><dt>Note</dt><dd>By design any specific settings for individual cells is not saved in a theme as a theme can be applied to any table regardless of the specific table structure.</dd></dl>
<p>All information for a theme is encapsulated in the <a class="el" href="structhpdftbl__theme.html" title="Define a set of styles into a table theme.">hpdftbl_theme</a> structure.</p>
<p >This structure can be set up manually and then applied to a table. However, the recommended way is to first use the "theme getter" function to get the default theme and then modify this default theme as needed since it allows you to only have to update the parts affected by a change.</p>
<p >The functions to work with a theme are :</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">API   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="hpdftbl_8h.html#aa69c87be9c690ac9f3dc8a9ecf748f36" title="Apply a specified theme to a table.">hpdftbl_apply_theme()</a>   </td><td class="markdownTableBodyNone">Apply the given theme to a table    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="hpdftbl_8h.html#a2089087e554335e1b3f5f5940613b9aa" title="Return the default theme.">hpdftbl_get_default_theme()</a>   </td><td class="markdownTableBodyNone">Get the default theme into a new allocated structure    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="hpdftbl_8h.html#a734ca37ac3b1106b98f645a0c859812c" title="Destroy existing theme structure and free memory.">hpdftbl_destroy_theme()</a>   </td><td class="markdownTableBodyNone">Free the memory used by a theme    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="hpdftbl_8h.html#a79a72f3529f81c14dfbb03f89e3f23f9" title="Extract theme from settings of a specific table.">hpdftbl_get_theme()</a>   </td><td class="markdownTableBodyNone">Extract a theme from specified table    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="hpdftbl_8h.html#a1ab6b96f3b440ed439135f3715dce2a5" title="Serialize the specified theme structure to a named file.">hpdftbl_theme_dump()</a>   </td><td class="markdownTableBodyNone">Serialize a theme to a file    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="hpdftbl_8h.html#abdf4b69579ce4c5b33a88b287f3c7e6b" title="Serialize theme structure to a string buffer.">hpdftbl_theme_dumps()</a>   </td><td class="markdownTableBodyNone">Serialize a theme to a string buffert    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="hpdftbl_8h.html#ae863a0b0888380c6ce6047f6810b641d" title="Read a theme from a previous serialized theme from a named file.">hpdftbl_theme_load()</a>   </td><td class="markdownTableBodyNone">Load a serialized theme from file    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="hpdftbl_8h.html#ab25c12d9b78abd1a07969c792c0bcce4" title="Load theme from a serialized string. This is the invert function of hpdftbl_theme_dumps().">hpdftbl_theme_loads()</a>   </td><td class="markdownTableBodyNone">Load a serialized theme from a string buffert   </td></tr>
</table>
<p >It is the responsibility of the user of the library to destroy the theme structure by ensuring that <code><a class="el" href="hpdftbl_8h.html#a734ca37ac3b1106b98f645a0c859812c" title="Destroy existing theme structure and free memory.">hpdftbl_destroy_theme()</a></code> is called when a theme goes out of scope.</p>
<p >The default font styles for the default theme are shown in table 1.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Style   </th><th class="markdownTableHeadNone">Font   </th><th class="markdownTableHeadNone">Size   </th><th class="markdownTableHeadNone">Color   </th><th class="markdownTableHeadNone">Background   </th><th class="markdownTableHeadNone">Alignment    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">content   </td><td class="markdownTableBodyNone">HPDF_FF_COURIER   </td><td class="markdownTableBodyNone">10   </td><td class="markdownTableBodyNone">Black   </td><td class="markdownTableBodyNone">White   </td><td class="markdownTableBodyNone">Left    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">label   </td><td class="markdownTableBodyNone">HPDF_FF_TIMES_ITALIC   </td><td class="markdownTableBodyNone">9   </td><td class="markdownTableBodyNone">Dark gray   </td><td class="markdownTableBodyNone">White   </td><td class="markdownTableBodyNone">Left    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">header   </td><td class="markdownTableBodyNone">HPDF_FF_HELVETICA_BOLD   </td><td class="markdownTableBodyNone">10   </td><td class="markdownTableBodyNone">Black   </td><td class="markdownTableBodyNone">Light gray   </td><td class="markdownTableBodyNone">Center    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">title   </td><td class="markdownTableBodyNone">HPDF_FF_HELVETICA_BOLD   </td><td class="markdownTableBodyNone">11   </td><td class="markdownTableBodyNone">Black   </td><td class="markdownTableBodyNone">Light gray   </td><td class="markdownTableBodyNone">Left   </td></tr>
</table>
<p ><em><b>Table 1:</b></em> <em>Default font styles.</em></p>
<p >&#160;</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Theme parameter   </th><th class="markdownTableHeadNone">Default value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">use_labels   </td><td class="markdownTableBodyNone">FALSE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">use_label_grid_style   </td><td class="markdownTableBodyNone">FALSE    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">use_header_row   </td><td class="markdownTableBodyNone">FALSE    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">use_zebra   </td><td class="markdownTableBodyNone">FALSE   </td></tr>
</table>
<p ><em><b>Table 2:</b></em> <em>Default table structure parameters.</em></p>
<p >&#160;</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Border   </th><th class="markdownTableHeadNone">Color   </th><th class="markdownTableHeadNone">Width (pt)    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">inner_border   </td><td class="markdownTableBodyNone">Grey   </td><td class="markdownTableBodyNone">0.7    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">outer_grid   </td><td class="markdownTableBodyNone">Dark Grey   </td><td class="markdownTableBodyNone">1.0   </td></tr>
</table>
<p ><em><b>Table 3:</b></em> <em>Default border parameters.</em></p>
<h1><a class="anchor" id="autotoc_md43"></a>
Example of serializing theme and table</h1>
<p >In tut_ex41.c an example ofmhow to read a theme and table back from their serialized representation can be found as also shown below.</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structhpdftbl.html">hpdftbl_t</a> tbl = calloc(1, <span class="keyword">sizeof</span> (<span class="keyword">struct</span> <a class="code hl_struct" href="structhpdftbl.html">hpdftbl</a>));</div>
<div class="line"><a class="code hl_struct" href="structhpdftbl__theme.html">hpdftbl_theme_t</a> theme;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(0 == <a class="code hl_function" href="hpdftbl_8h.html#a38f0d4f834ff880e46a0b4d42af854dc">hpdftbl_load</a>(tbl, <span class="stringliteral">&quot;tests/tut_ex41.json&quot;</span>)  ) {</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(0 == <a class="code hl_function" href="hpdftbl_8h.html#ae863a0b0888380c6ce6047f6810b641d">hpdftbl_theme_load</a>(&amp;theme, <span class="stringliteral">&quot;tests/tut41_theme.json&quot;</span>)) {</div>
<div class="line">        <a class="code hl_function" href="hpdftbl_8h.html#aa69c87be9c690ac9f3dc8a9ecf748f36">hpdftbl_apply_theme</a>(tbl, &amp;theme);</div>
<div class="line">        <a class="code hl_function" href="hpdftbl_8c.html#a9adfb73b5bf0d60c683cc04da1c40c70">hpdftbl_stroke_pos</a>(pdf_doc, pdf_page, tbl);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        fprintf(stderr,<span class="stringliteral">&quot;%s\n&quot;</span>,<span class="stringliteral">&quot;Failed to load &#39;tests/default_theme.json&#39;\n&quot;</span>);</div>
<div class="line">        exit(1);</div>
<div class="line">    }</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    fprintf(stderr,<span class="stringliteral">&quot;%s\n&quot;</span>,<span class="stringliteral">&quot;Failed to load &#39;tests/tut_ex41.json&#39;\n&quot;</span>);</div>
<div class="line">    exit(1);</div>
<div class="line">}</div>
<div class="ttc" id="ahpdftbl_8c_html_a9adfb73b5bf0d60c683cc04da1c40c70"><div class="ttname"><a href="hpdftbl_8c.html#a9adfb73b5bf0d60c683cc04da1c40c70">hpdftbl_stroke_pos</a></div><div class="ttdeci">int hpdftbl_stroke_pos(HPDF_Doc pdf, const HPDF_Page page, hpdftbl_t t)</div><div class="ttdoc">Stroke the table using the already specified size and position within the table.</div><div class="ttdef"><b>Definition:</b> hpdftbl.c:1654</div></div>
<div class="ttc" id="ahpdftbl_8h_html_a38f0d4f834ff880e46a0b4d42af854dc"><div class="ttname"><a href="hpdftbl_8h.html#a38f0d4f834ff880e46a0b4d42af854dc">hpdftbl_load</a></div><div class="ttdeci">int hpdftbl_load(hpdftbl_t tbl, char *filename)</div><div class="ttdoc">Import a table structure from a serialized table on file.</div><div class="ttdef"><b>Definition:</b> hpdftbl_load.c:330</div></div>
<div class="ttc" id="ahpdftbl_8h_html_aa69c87be9c690ac9f3dc8a9ecf748f36"><div class="ttname"><a href="hpdftbl_8h.html#aa69c87be9c690ac9f3dc8a9ecf748f36">hpdftbl_apply_theme</a></div><div class="ttdeci">int hpdftbl_apply_theme(hpdftbl_t t, hpdftbl_theme_t *theme)</div><div class="ttdoc">Apply a specified theme to a table.</div><div class="ttdef"><b>Definition:</b> hpdftbl_theme.c:177</div></div>
<div class="ttc" id="ahpdftbl_8h_html_ae863a0b0888380c6ce6047f6810b641d"><div class="ttname"><a href="hpdftbl_8h.html#ae863a0b0888380c6ce6047f6810b641d">hpdftbl_theme_load</a></div><div class="ttdeci">int hpdftbl_theme_load(hpdftbl_theme_t *tbl, char *filename)</div><div class="ttdoc">Read a theme from a previous serialized theme from a named file.</div><div class="ttdef"><b>Definition:</b> hpdftbl_load.c:282</div></div>
<div class="ttc" id="astructhpdftbl__theme_html"><div class="ttname"><a href="structhpdftbl__theme.html">hpdftbl_theme</a></div><div class="ttdoc">Define a set of styles into a table theme.</div><div class="ttdef"><b>Definition:</b> hpdftbl.h:635</div></div>
<div class="ttc" id="astructhpdftbl_html"><div class="ttname"><a href="structhpdftbl.html">hpdftbl</a></div><div class="ttdoc">Core table handle.</div><div class="ttdef"><b>Definition:</b> hpdftbl.h:470</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Sep 11 2022 17:45:54 for libhpdftbl by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
