<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mptools: Installing mptools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">mptools<span id="projectnumber">&#160;2.3.0</span>
   </div>
   <div id="projectbrief">Utility to create multipass virtual nodes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_02-installing.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Installing mptools</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1"></a></p>
<dl class="section note"><dt>Note</dt><dd>We assume that <code>multipass</code> have already been installed, (see <a href="https://multipass.run/">https://multipass.run/</a> for more details on how to install.) If you are on a OSX system and have <code>homebrew</code> installed the easiest way to install is to call <code>brew install --cask multipass</code></dd></dl>
<p>It is recommended to download an official release (or use a tagged version in the repo) as there is no guarantee that the latest <code>main</code> branch is ready for deployment since that by definition is work in progress.</p>
<ol type="1">
<li>Download the latest tar-ball <code>mptools-x.y.z.tar.gz</code>, e.g. <div class="fragment"><div class="line">% curl -LO https://github.com/johan162/mptools/releases/download/v2.3.0/mptools-2.3.0.tar.gz</div>
</div><!-- fragment --></li>
<li>Unpack and install the package <div class="fragment"><div class="line">% tar xzf mptools-2.3.0.tar.gz</div>
<div class="line">% cd mptools-2.3.0</div>
<div class="line">% make install</div>
</div><!-- fragment --></li>
</ol>
<p>The install step will also create customized cloud-init files that matches the current users public SSH keys.</p>
<p><b>Note:</b> If <code>curl</code> is not installed <code>wget</code> could be used to download the package as so </p><div class="fragment"><div class="line">%  wget -q --show-progress https://github.com/johan162/mptools/releases/download/v2.3.0/mptools-2.3.0.tar.gz</div>
</div><!-- fragment --><p>The <code>make install</code> will install the scripts under <code>/usr/local/bin</code> . The get the shell autocompletion updated either the terminal have to restarted or call <code>rehash</code> to update the shell auto-completion hash. <br  />
 &#160; <br  />
 In addition to installing the scripts the install target will also create a hidden directory in the current users home directory at <code>~/.mptools</code>. In that directory a number of customized cloud-init files will be stored. These are customized with the current users public SSH key as well as also setting up user account with the same name as the current user in the created nodes. <br  />
 &#160; <br  />
 This setup will then make it simple to ssh into the node for example as <code>% ssh 192.168.yy.xx</code> (where the IPv4 address is assigned to the node) <br  />
 &#160;</p>
<dl class="section note"><dt>Note</dt><dd>The scripts can also be run directly from the downloaded package directory (e.g. mptools-2.3.0). The one thing to remember is that the script files are named with the <code>*.sh</code> suffix. When the package is installed the symlink is the basename of the script without this suffix to make it slightly easier to call the script.*</dd></dl>
<h1><a class="anchor" id="autotoc_md2"></a>
Changing install location</h1>
<p>By default, the scripts will be installed using the prefix <code>/usr/local</code> for the installation directory. This means that the package will be installed under <code>/usr/local/share</code> and the binaries will be linked in <code>/usr/local/bin</code>.</p>
<p>This can be changed by adjusting the <code>INSTALL_PREFIX</code> makefile variable either permanently in the <code>Makefile</code> or as an override in the call to make. So for example, to install into <code>/usr/share</code> and <code>/usr/bin</code>, i.e using the prefix <code>/usr</code> the following invocation would be needed:</p>
<div class="fragment"><div class="line">% make INSTALL_PREFIX=/usr install</div>
</div><!-- fragment --><p>Remember, the same prefix has to be used when uninstalling the package, i.e.</p>
<div class="fragment"><div class="line">% make INSTALL_PREFIX=/usr uninstall</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Aug 15 2024 21:11:01 for mptools by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
